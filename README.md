## PoseGraph post-processing based on COLMAP

The fact is the pose graph generated by VINS could be used for dense reconstruction, which has to be transfered into a format can be used by COLMAP.

For the keyframes generated by ORB-SLAM2, it has two formats according to KITTI and TUM dataset. We slao use one of them to generate file which can be run by COLMAP.

```
Part of code was extracted and modified from these open source project: 
    1. VINS-Mono
    2. COLMAP
    3. ORBSLAM2
    4. MYNT-EYE-SDK, only left camera and IMU used (Monocular Visual-inertial)

All the functions were built according to the requirement of COLMAP tutorial
"Reconstruct sparse/dense model from known camera poses", see:
https://colmap.github.io/faq.html#reconstruct-sparse-dense-model-from-known-camera-poses

----------------------------------------------------------------------------------------
                                                Written by Fangwen Shu

                                                sfw811@hotmail.com
                                                July 2019
```

## PoseGraph correction based on multi-sensor fusion like IMU and GPS, by implementing Kalman Filter

The pose graph generated by VINS is kind of distorted by drift, especially when the loop detection not enough, or, for an car drving around, loop detection always difficult because the car normally will not back to the place where it was before (and environment can change under some situation).

In this case, we add a GPS sensor to measure coordinates and velocity, however, the GPS data has also noisy.

1. First, we need to align the body frame of MYNT-EYE device (camera + IMU) with the GPS antenna. (calibration the extrinsic parameters in between), we choose the IMU frame of MYNt-EYE camera as origin. So the transformation matrix [R | t] from GPS to IMU has to be know.

2. Then we could design the state vector and other details of KF/EKF.

3. Use corrected pose graph in COLMAP to achieve precise reconstruction work flow.